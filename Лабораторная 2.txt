/*Задание 6*/  
CREATE SEQUENCE seq_messure
  START WITH 1
  INCREMENT BY 1;
CREATE SEQUENCE seq_caterer
  START WITH 1
  INCREMENT BY 1;
CREATE SEQUENCE seq_deliver
  START WITH 1
  INCREMENT BY 1;
CREATE SEQUENCE seq_employer
  START WITH 1
  INCREMENT BY 1;
CREATE SEQUENCE seq_group
  START WITH 1
  INCREMENT BY 1;
CREATE SEQUENCE seq_inprice
  START WITH 1
  INCREMENT BY 1;
CREATE SEQUENCE seq_material
  START WITH 1
  INCREMENT BY 1;
CREATE SEQUENCE seq_section
  START WITH 1
  INCREMENT BY 1;
CREATE SEQUENCE seq_store
  START WITH 1
  INCREMENT BY 1;
CREATE SEQUENCE seq_supply
  START WITH 1
  INCREMENT BY 1;
CREATE SEQUENCE seq_surplus
  START WITH 1
  INCREMENT BY 1;

/*Задание 7*/  
INSERT INTO T_MESSURE (ID_MESSURE, NAME)
  VALUES (seq_messure.NEXTVAL, 'ШТ');
INSERT INTO T_MESSURE (ID_MESSURE, NAME)
  VALUES (seq_messure.NEXTVAL, 'М');
INSERT INTO T_MESSURE (ID_MESSURE, NAME)
  VALUES (seq_messure.NEXTVAL, 'КГ');
INSERT INTO T_MESSURE (ID_MESSURE, NAME)
  VALUES (seq_messure.NEXTVAL, 'Т');
INSERT INTO T_MESSURE (ID_MESSURE, NAME)
  VALUES (seq_messure.NEXTVAL, СМ');

INSERT INTO T_CATERER (ID_CATERER, NAME, PHONE, FAX, LEGAL_ADDRESS, ACTUAL_ADDRESS, EMAIL)
  VALUES (seq_caterer.NEXTVAL, 'Поставщик 1', '89226410871', NULL, 'Торговая 8а','Торговая 8а','111@mail.ru');
INSERT INTO T_CATERER (ID_CATERER, NAME, PHONE, FAX, LEGAL_ADDRESS, ACTUAL_ADDRESS, EMAIL)
  VALUES (seq_caterer.NEXTVAL, 'Поставщик 2', '89226410872', NULL, 'Торговая 10','Торговая 10','222@mail.ru');
INSERT INTO T_CATERER (ID_CATERER, NAME, PHONE, FAX, LEGAL_ADDRESS, ACTUAL_ADDRESS, EMAIL)
  VALUES (seq_caterer.NEXTVAL, 'Поставщик 3', '89226410873', NULL, 'Светлогорская 17','Светлогорская 17','333@mail.ru');
INSERT INTO T_CATERER (ID_CATERER, NAME, PHONE, FAX, LEGAL_ADDRESS, ACTUAL_ADDRESS, EMAIL)
  VALUES (seq_caterer.NEXTVAL, 'Поставщик 4', '89226410874', NULL , 'Калинина 1','Калинина 1','444@mail.ru');
INSERT INTO T_CATERER (ID_CATERER, NAME, PHONE, FAX, LEGAL_ADDRESS, ACTUAL_ADDRESS, EMAIL)
  VALUES (seq_caterer.NEXTVAL, 'Поставщик 5', '89226410875',NULL, 'Закамская 76','Закамская 76','555@mail.ru');

INSERT INTO T_GROUP (ID_GROUP, NAME)
  VALUES (seq_group.NEXTVAL, 'группа 1');
INSERT INTO T_GROUP (ID_GROUP, NAME)
  VALUES (seq_group.NEXTVAL, 'группа 2');
INSERT INTO T_GROUP (ID_GROUP, NAME)
  VALUES (seq_group.NEXTVAL, 'группа 3');
INSERT INTO T_GROUP (ID_GROUP, NAME)
  VALUES (seq_group.NEXTVAL, 'группа 4');
INSERT INTO T_GROUP (ID_GROUP, NAME)
  VALUES (seq_group.NEXTVAL, 'группа 5');

INSERT INTO T_MATERIAL (ID_MATERIAL, NAME, ID_MEASURE, ID_GROUP)
  VALUES (seq_material.NEXTVAL, 'материал 1', '1', '1');
INSERT INTO T_MATERIAL (ID_MATERIAL, NAME, ID_MEASURE, ID_GROUP)
  VALUES (seq_material.NEXTVAL, 'материал 2', '2', '2');
INSERT INTO T_MATERIAL (ID_MATERIAL, NAME, ID_MEASURE, ID_GROUP)
  VALUES (seq_material.NEXTVAL, 'материал 3', '3', '3');
INSERT INTO T_MATERIAL (ID_MATERIAL, NAME, ID_MEASURE, ID_GROUP)
  VALUES (seq_material.NEXTVAL, 'материал 4', '4', '4');
INSERT INTO T_MATERIAL (ID_MATERIAL, NAME, ID_MEASURE, ID_GROUP)
  VALUES (seq_material.NEXTVAL, 'материал 5', '5', '5');

INSERT INTO T_STORE (ID_STORE, NAME)
  VALUES (seq_store.NEXTVAL, 'Магазин 1');
INSERT INTO T_STORE (ID_STORE, NAME)
  VALUES (seq_store.NEXTVAL, 'Магазин 2');
INSERT INTO T_STORE (ID_STORE, NAME)
  VALUES (seq_store.NEXTVAL, 'Магазин 3');
INSERT INTO T_STORE (ID_STORE, NAME)
  VALUES (seq_store.NEXTVAL, 'Магазин 4');
INSERT INTO T_STORE (ID_STORE, NAME)
  VALUES (seq_store.NEXTVAL, 'Магазин 5');

INSERT INTO T_EMPLOYER (ID_EMPLOYER, SURNAME, NAME, FATHER_NAME)
  VALUES (seq_employer.NEXTVAL, 'Фамилия1', 'Имя1','Отчество1');
INSERT INTO T_EMPLOYER (ID_EMPLOYER, SURNAME, NAME, FATHER_NAME)
  VALUES (seq_employer.NEXTVAL, 'Фамилия2', 'Имя2','Отчество2');
INSERT INTO T_EMPLOYER (ID_EMPLOYER, SURNAME, NAME, FATHER_NAME)
  VALUES (seq_employer.NEXTVAL, 'Фамилия3', 'Имя3','Отчество3');
INSERT INTO T_EMPLOYER (ID_EMPLOYER, SURNAME, NAME, FATHER_NAME)
  VALUES (seq_employer.NEXTVAL, 'Фамилия4', 'Имя4',' ’Отчество4');
INSERT INTO T_EMPLOYER (ID_EMPLOYER, SURNAME, NAME, FATHER_NAME)
  VALUES (seq_employer.NEXTVAL, 'Фамилия5', 'Имя5', 'Отчество5');

INSERT INTO T_INPRICE (id_material, price_date, price)
VALUES (1, '01.01.2017', 100); 
INSERT INTO T_INPRICE (id_material, price_date, price)
VALUES (2, '02.02.2017', 100); 
INSERT INTO T_INPRICE (id_material, price_date, price)
VALUES (3, '03.03.2017', 200); 
INSERT INTO T_INPRICE (id_material, price_date, price)
VALUES (4, '04.04.2017', 300); 
INSERT INTO T_INPRICE (id_material, price_date, price)
VALUES (5, '05.01.2017', 400);

INSERT INTO T_SECTION (ID_SECTION, NAME, ID_EMPLOYER)
  VALUES (SEQ_SECTION.NEXTVAL, 'Цех 1', '1');
INSERT INTO T_SECTION (ID_SECTION, NAME, ID_EMPLOYER)
  VALUES (SEQ_SECTION.NEXTVAL, 'Цех 2', '2');
INSERT INTO T_SECTION (ID_SECTION, NAME, ID_EMPLOYER)
  VALUES (SEQ_SECTION.NEXTVAL, 'Цех 3', '3');
INSERT INTO T_SECTION (ID_SECTION, NAME, ID_EMPLOYER)
  VALUES (SEQ_SECTION.NEXTVAL, 'Цех 4', '4');
  INSERT INTO T_SECTION (ID_SECTION, NAME, ID_EMPLOYER)
  VALUES (SEQ_SECTION.NEXTVAL, 'Цех 5', '5');

INSERT INTO T_SURPLUS (ID_MATERIAL, ID_STORE, VOLUME)
  VALUES (1, 1, 100);
INSERT INTO T_SURPLUS (ID_MATERIAL, ID_STORE, VOLUME)
  VALUES (2, 2, 200);
INSERT INTO T_SURPLUS (ID_MATERIAL, ID_STORE, VOLUME)
  VALUES (3, 3, 300);
INSERT INTO T_SURPLUS (ID_MATERIAL, ID_STORE, VOLUME)
  VALUES (4, 4, 400);
INSERT INTO T_SURPLUS (ID_MATERIAL, ID_STORE, VOLUME)
  VALUES (5, 5, 500);

INSERT INTO T_SUPPLY (ID_SUPPLY, ID_CATERER, ID_MATERIAL, ID_STORE, SUPPLY_DATE, VOLUME)
  VALUES (SEQ_SUPPLY.NEXTVAL, 1, 1, 1,SYSDATE, 10);
INSERT INTO T_SUPPLY (ID_SUPPLY, ID_CATERER, ID_MATERIAL, ID_STORE, SUPPLY_DATE, VOLUME)
  VALUES (SEQ_SUPPLY.NEXTVAL, 2, 2, 2, SYSDATE, 20);
INSERT INTO T_SUPPLY (ID_SUPPLY, ID_CATERER, ID_MATERIAL, ID_STORE, SUPPLY_DATE, VOLUME)
  VALUES (SEQ_SUPPLY.NEXTVAL, 3, 3, 3, SYSDATE, 30);
INSERT INTO T_SUPPLY (ID_SUPPLY, ID_CATERER, ID_MATERIAL, ID_STORE, SUPPLY_DATE, VOLUME)
  VALUES (SEQ_SUPPLY.NEXTVAL, 4, 4, 4, SYSDATE, 40);
INSERT INTO T_SUPPLY (ID_SUPPLY, ID_CATERER, ID_MATERIAL, ID_STORE, SUPPLY_DATE, VOLUME)
  VALUES (SEQ_SUPPLY.NEXTVAL, 5, 5, 5, SYSDATE, 50);

INSERT INTO T_DELIVER (ID_DELIVER, ID_SECTION, ID_MATERIAL, ID_STORE, DELIVER_DATE)
  VALUES (SEQ_DELIVER.NEXTVAL, 1, 1, 1, SYSDATE);
INSERT INTO T_DELIVER (ID_DELIVER, ID_SECTION, ID_MATERIAL, ID_STORE, DELIVER_DATE)
  VALUES (SEQ_DELIVER.NEXTVAL, 2, 2, 2, SYSDATE);
INSERT INTO T_DELIVER (ID_DELIVER, ID_SECTION, ID_MATERIAL, ID_STORE, DELIVER_DATE)
  VALUES (SEQ_DELIVER.NEXTVAL, 3, 3, 3, SYSDATE);
INSERT INTO T_DELIVER (ID_DELIVER, ID_SECTION, ID_MATERIAL, ID_STORE, DELIVER_DATE)
  VALUES (SEQ_DELIVER.NEXTVAL, 4, 4, 4, SYSDATE);
INSERT INTO T_DELIVER (ID_DELIVER, ID_SECTION, ID_MATERIAL, ID_STORE, DELIVER_DATE)
  VALUES (SEQ_DELIVER.NEXTVAL, 5, 5, 5, SYSDATE);

/*Задание 8*/
DELETE FROM T_INPRICE
  WHERE PRICE_DATE < '31.12.2000';

/*Задание 9*/
ALTER TABLE T_MATERIAL
  DROP CONSTRAINT fk_Material_Messure;
ALTER TABLE T_MATERIAL
  ADD CONSTRAINT fk_Material_Messure 
  FOREIGN KEY (ID_MEASURE) REFERENCES T_MESSURE(ID_MESSURE) ON DELETE SET NULL;
ALTER TABLE T_MATERIAL
  MODIFY (ID_MESSURE INT NULL);
DELETE FROM T_MESSURE
  WHERE NAME LIKE '_';

/*Задание 10*/
UPDATE T_SURPLUS 
  SET VOLUME = 0 WHERE ID_STORE LIKE 1;

/*Задание 11*/
UPDATE T_EMPLOYER 
  SET NAME = 'Зверева', SURNAME = 'Зверева', FATHER_NAME = 'Владиславовна' 
  WHERE ID_EMPLOYER LIKE 1;

/*Задание 12*/
UPDATE T_CATERER 
SET PHONE = 89226410871
  WHERE NAME LIKE 'Поставщик1;

/*Задание 13*/
UPDATE T_INPRICE 
  SET PRICE = 0.85 * PRICE
     WHERE PRICE_DATE >= '01.01.2017' AND PRICE_DATE <= '31.12.2017'